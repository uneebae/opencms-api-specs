"use strict";(globalThis.webpackChunkopen_cms_paysyslabs=globalThis.webpackChunkopen_cms_paysyslabs||[]).push([[509],{3836:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"response","title":"Response Codes & Error Handling","description":"This section defines the standardized HTTP response codes, OpenCMS custom response codes, and error structures returned by the APIs.","source":"@site/docs/response.md","sourceDirName":".","slug":"/response","permalink":"/opencms-api-specs/docs/response","draft":false,"unlisted":false,"editUrl":"https://github.com/uneebae/opencms-api-specs/tree/main/docs/response.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Data Type References","permalink":"/opencms-api-specs/docs/dataTypeRef"}}');var d=r(4848),i=r(8453);const t={},l="Response Codes & Error Handling",c={},o=[{value:"Error Response Example",id:"error-response-example",level:2},{value:"Retry Logic",id:"retry-logic",level:2},{value:"Error Handling Guidelines",id:"error-handling-guidelines",level:2},{value:"Common Failure Scenarios",id:"common-failure-scenarios",level:2},{value:"Developer Tips",id:"developer-tips",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"response-codes--error-handling",children:"Response Codes & Error Handling"})}),"\n",(0,d.jsxs)(n.p,{children:["This section defines the standardized HTTP response codes, OpenCMS custom response codes, and error structures returned by the APIs.",(0,d.jsx)(n.br,{}),"\n","It helps developers interpret success, warning, and failure conditions accurately during integration."]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h1,{id:"overview",children:"Overview"}),"\n",(0,d.jsxs)(n.p,{children:["Every OpenCMS API returns a ",(0,d.jsx)(n.strong,{children:"Response Object"})," containing:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"responseCode"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"responseDescription"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"timestamp"})}),"\n",(0,d.jsxs)(n.li,{children:["Optional: ",(0,d.jsx)(n.code,{children:"data"})," or ",(0,d.jsx)(n.code,{children:"errorDetails"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h1,{id:"standard-http-status-codes",children:"Standard HTTP Status Codes"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"HTTP Code"}),(0,d.jsx)(n.th,{children:"Status"}),(0,d.jsx)(n.th,{children:"Meaning"}),(0,d.jsx)(n.th,{children:"Action Required"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"200 OK"})}),(0,d.jsx)(n.td,{children:"Success"}),(0,d.jsx)(n.td,{children:"Request executed successfully"}),(0,d.jsx)(n.td,{children:"Proceed as normal"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"201 Created"})}),(0,d.jsx)(n.td,{children:"Resource Created"}),(0,d.jsx)(n.td,{children:"New record successfully added"}),(0,d.jsx)(n.td,{children:"Store created resource ID"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"202 Accepted"})}),(0,d.jsx)(n.td,{children:"Que"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"error-response-example",children:"Error Response Example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-Json",children:'{\r\n  "responseCode": "05",\r\n  "responseDescription": "Missing mandatory field: cardId",\r\n  "timestamp": "2025-10-30T12:46:00Z",\r\n  "errorDetails": {\r\n    "field": "cardId",\r\n    "message": "cardId cannot be null or empty",\r\n    "suggestion": "Include cardId parameter in request body"\r\n  }\r\n}\r\n\r\n```json\r\n{\r\n  "responseCode": "05",\r\n  "responseDescription": "Missing mandatory field: cardId",\r\n  "timestamp": "2025-10-30T12:46:00Z",\r\n  "errorDetails": {\r\n    "field": "cardId",\r\n    "message": "cardId cannot be null or empty",\r\n    "suggestion": "Include cardId parameter in request body"\r\n  }\r\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"retry-logic",children:"Retry Logic"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Error Type"}),(0,d.jsx)(n.th,{children:"Recommended Action"}),(0,d.jsx)(n.th,{children:"Retry Interval"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:["Timeout / ",(0,d.jsx)(n.strong,{children:"408"})," / ",(0,d.jsx)(n.strong,{children:"20"})]}),(0,d.jsx)(n.td,{children:"Retry request"}),(0,d.jsx)(n.td,{children:"2\u20135 seconds"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"429 Too Many Requests"})}),(0,d.jsx)(n.td,{children:"Exponential backoff"}),(0,d.jsx)(n.td,{children:"5\u201310 seconds"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"500 / 503"})}),(0,d.jsx)(n.td,{children:"Retry after delay"}),(0,d.jsx)(n.td,{children:"10\u201315 seconds"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:["Validation / ",(0,d.jsx)(n.strong,{children:"400 / 05"})]}),(0,d.jsx)(n.td,{children:"Do NOT retry \u2014 fix payload"}),(0,d.jsx)(n.td,{children:"N/A"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"error-handling-guidelines",children:"Error Handling Guidelines"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Always validate mandatory fields before calling APIs."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Create a centralized error handler to map both HTTP & OpenCMS codes."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Log the following per API call:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"RRN / Request ID"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Endpoint"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"HTTP Status Code"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"responseCode"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"For async or scheduled operations, maintain:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Retry counters"}),"\n",(0,d.jsx)(n.li,{children:"Failure logs"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"common-failure-scenarios",children:"Common Failure Scenarios"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Scenario"}),(0,d.jsx)(n.th,{children:"Symptom"}),(0,d.jsx)(n.th,{children:"Resolution"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Expired Token"})}),(0,d.jsx)(n.td,{children:"401 Unauthorized"}),(0,d.jsx)(n.td,{children:"Regenerate JWT"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Duplicate RRN"})}),(0,d.jsx)(n.td,{children:"10 Duplicate Request"}),(0,d.jsx)(n.td,{children:"Use a new RRN"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Invalid Card Status"})}),(0,d.jsx)(n.td,{children:"30 Invalid State"}),(0,d.jsx)(n.td,{children:"Only activate Fresh cards"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Missing Field"})}),(0,d.jsx)(n.td,{children:"05 Validation Error"}),(0,d.jsx)(n.td,{children:"Add required field"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Scheme Down"})}),(0,d.jsx)(n.td,{children:"41 External Service Failure"}),(0,d.jsx)(n.td,{children:"Retry after 1\u20132 mins"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"developer-tips",children:"Developer Tips"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Always include X-Correlation-ID for system-wide traceability."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Never retry validation errors \u2014 fix the payload."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Use sandbox mode for integration before production."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Log both:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"HTTP status"}),"\n",(0,d.jsx)(n.li,{children:"OpenCMS custom code"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Continue with Authentication API"}),"\n",(0,d.jsx)(n.li,{children:"Explore Card Lifecycle APIs"}),"\n",(0,d.jsx)(n.li,{children:"Review Data Type References"}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var s=r(6540);const d={},i=s.createContext(d);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);